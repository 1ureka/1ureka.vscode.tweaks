# 1ureka 的 VS Code QOL 套件

一個用於改善 VS Code 使用體驗的個人擴充套件，包含檔案元資料顯示、自訂樣式注入、以系統預設應用程式開啟檔案等功能。

---

## 核心功能

### 檔案元資料顯示

在狀態列顯示當前檔案的元資料，支援所有檔案類型。

| 功能名稱         | 功能描述                                                                           |
| ---------------- | ---------------------------------------------------------------------------------- |
| 狀態列資訊顯示   | 自動在狀態列顯示當前開啟檔案的建立時間、修改時間與檔案大小                         |
| 全檔案類型支援   | 支援所有檔案類型，包括 VS Code 原生無法開啟的任意二進位檔案（如 .blend、.psd 等）  |
| 圖片專屬資訊     | 針對圖片檔案額外顯示解析度、長寬比、格式、色彩空間、色彩通道數、透明通道等詳細資訊 |
| Tab 切換自動更新 | 監聽 Tab 與 Tab Group 變化，自動更新狀態列顯示內容                                 |

### 自訂樣式注入

提供比 `Custom JS and CSS Loader` 更安全的方式來注入自訂 CSS 到 VS Code 介面。

| 功能名稱        | 功能描述                                                                                            |
| --------------- | --------------------------------------------------------------------------------------------------- |
| 安全的 CSP 策略 | 採用修改而非刪除 Content-Security-Policy 的策略，只添加對於 Google Fonts 的例外，維持安全完整性檢查 |
| 命令式管理      | 提供命令來注入、還原與重新注入自訂樣式                                                              |
| 內聯 CSS 字串   | 注入時將 CSS 字串內聯在 workbench HTML 中，消除後續開啟應用時的額外檔案 I/O                         |
| 備份與還原      | 注入前自動備份原始 workbench HTML 檔案，還原時從備份恢復                                            |

目前內建的自訂樣式內容：

- 載入 Google Fonts（Geist Mono、Noto Sans TC、Noto Sans JP）
- 將全域字型設為上述字型
- 移除焦點輪廓線（`outline: none`）
- 替換歡迎頁面的浮水印圖案
- 若干 UI 微調（搜尋標籤間距、列表焦點樣式等）

### 外部應用程式整合

從 VS Code 中以系統預設應用程式開啟檔案。

| 功能名稱     | 功能描述                                                                    |
| ------------ | --------------------------------------------------------------------------- |
| 右鍵選單整合 | 在檔案總管的右鍵選單中提供「以預設應用程式開啟」選項                        |
| Tab 右鍵支援 | 在編輯器 Tab 的右鍵選單中也提供相同選項                                     |
| 白名單機制   | 預設允許 `.blend`、`.spp`、`.html` 檔案直接開啟，其餘副檔名會彈出確認對話框 |

---

## 命令一覽

透過命令面板（`Ctrl+Shift+P`）使用以下命令：

| 命令                 | 說明                                             |
| -------------------- | ------------------------------------------------ |
| `注入自訂樣式`       | 備份原始 workbench HTML 並注入自訂 CSS           |
| `還原樣式設定`       | 從備份還原原始 workbench HTML                    |
| `還原並重新注入樣式` | 先還原再重新注入，用於更新樣式內容               |
| `以預設應用程式開啟` | 以系統預設應用程式開啟檔案（僅出現在右鍵選單中） |

---

## 設定

| 設定項                      | 說明                                                                                                                                                  |
| --------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| `1ureka.vscodeResourcePath` | VS Code 資源目錄路徑，用於定位 workbench HTML 以進行樣式注入。範例：`C:/Users/YourName/AppData/Local/Programs/Microsoft VS Code/resources/app/out/vs` |

> [!NOTE]
> 使用樣式注入功能前，需先在設定中填寫此路徑。

---

## 安裝指南

### 系統需求

- **作業系統**: Windows
- **VS Code**: 1.106.1 或更高版本

### 安裝步驟

1. 前往 [GitHub Releases](https://github.com/1ureka/1ureka.vscode.explorer/releases) 下載最新的 `.vsix` 檔案

2. 在 VS Code 中安裝擴展：
   - 開啟命令面板（`Ctrl+Shift+P`）
   - 輸入並選擇 `Extensions: Install from VSIX...`
   - 選擇下載的 `.vsix` 檔案

3. 安裝完成後，重新啟動 VS Code

---

作者：1ureka | 版本：1.0.0
